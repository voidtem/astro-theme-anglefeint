---
import { getCollection } from 'astro:content';
import HomePage from '../layouts/HomePage.astro';
import { THEME } from '../config/theme';
import { DEFAULT_LOCALE } from '../i18n/config';
import { postsForLocale } from '../i18n/posts';

const locale = DEFAULT_LOCALE;
const allPosts = await getCollection('blog');
const latestPosts = postsForLocale(allPosts, locale).slice(0, THEME.HOME_LATEST_COUNT);
---

<HomePage locale={locale} latestPosts={latestPosts} />
